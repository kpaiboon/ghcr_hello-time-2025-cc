
version: "3.8"

services:
  rust-hello-time:
    image: ghcr.io/olive-techno/ghcr_hello-time/rusty-webserver:main
    networks:
      - proxy-net
    deploy:
      mode: replicated
      replicas: 2
    ports:
      - target: 8080
        published: 8125
        protocol: tcp
        mode: ingress
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8080"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s

networks:
  proxy-net:
    external: true


#
# ğŸ“ Proxy Host Configuration: rust-hello.olive.co.th
# ğŸ”§ General Settings
# Domain Names: rust-hello.olive.co.th
# Scheme: http
# Forward Hostname / IP: rust-hello-time
# Forward Port: 8080
# Access List: Publicly Accessible
# ğŸ” SSL Settings
# SSL Certificate: rust-hello.olive.co.th
# Force SSL: âœ… (à¹à¸™à¸°à¸™à¸³à¹ƒà¸«à¹‰à¹€à¸›à¸´à¸”)
# HTTP/2 Support: âœ… (à¸–à¹‰à¸²à¸¡à¸µà¹ƒà¸«à¹‰à¹€à¸¥à¸·à¸­à¸)

